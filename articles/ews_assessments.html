<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="EWSmethods">
<title>Performing Early Warning Signal Assessments • EWSmethods</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Performing Early Warning Signal Assessments">
<meta property="og:description" content="EWSmethods">
<meta property="og:image" content="https://duncanobrien.github.io/EWSmethods/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">EWSmethods</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/ews_assessments.html">Performing Early Warning Signal Assessments</a>
    <a class="dropdown-item" href="../articles/using_ewsnet.html">Using EWSNet</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="http://twitter.com/duncanobrienn" aria-label="Twitter">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/duncanobrien/EWSmethods/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Performing Early Warning Signal Assessments</h1>
                        <h4 data-toc-skip class="author">Duncan O’Brien</h4>
            
            <h4 data-toc-skip class="date">2022-08-31</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/duncanobrien/EWSmethods/blob/HEAD/vignettes/ews_assessments.Rmd" class="external-link"><code>vignettes/ews_assessments.Rmd</code></a></small>
      <div class="d-none name"><code>ews_assessments.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="about-this-tutorial">About this tutorial<a class="anchor" aria-label="anchor" href="#about-this-tutorial"></a>
</h2>
<p>This tutorial introduces how to perform both univariate and multivariate early warning signal (EWS) assessments using <code>EWSmethods</code>. It will give examples of rolling and expanding window approaches for univariate data, introduce trait-based composite EWSs and then conclude with an example of multivariate EWSs.</p>
<p>Greater detail on each function can be found at the <a href="https://duncanobrien.github.io/EWSmethods/reference/index.html">Reference</a> page.</p>
<p><br></p>
</div>
<div class="section level2">
<h2 id="getting-started">Getting started<a class="anchor" aria-label="anchor" href="#getting-started"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span> <span class="co">#to ensure reproducible data</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/duncanobrien/EWSmethods" class="external-link">EWSmethods</a></span><span class="op">)</span></span></code></pre></div>
<p><br></p>
<div class="section level3">
<h3 id="the-data">1. The data<a class="anchor" aria-label="anchor" href="#the-data"></a>
</h3>
<p><code>EWSmethods</code> comes bundled with two data objects which allow you to practice using the <code><a href="../reference/uniEWS.html">uniEWS()</a></code> and <code><a href="../reference/multiEWS.html">multiEWS()</a></code> functions in both transitioning and non-transitioning data before applying it to your own use case.</p>
<p><code>"simTransComms"</code> contains three replicate datasets of a simulated five species community that has been driven to transition by the introduction of an invasive species follwing Dakos (2018). This will be our multivariate dataset when using <code><a href="../reference/multiEWS.html">multiEWS()</a></code> although we may also use each time series in isolation in <code><a href="../reference/uniEWS.html">uniEWS()</a></code>.</p>
<p><code>"CODrecovery"</code> contains three replicate datasets of a simulated cod ( <em>Gadus morhua</em> ) population that transitions from an overfished to a recovered state following the relaxation of fishing pressure. This data was first published by Clements <em>et al.</em> 2019. While univariate, <code>"CODrecovery"</code> provides extra information on the body size of cod individuals which will improve composite EWSs estimated by <code><a href="../reference/uniEWS.html">uniEWS()</a></code>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Load the two datasets in to the session</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"simTransComms"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"CODrecovery"</span><span class="op">)</span></span></code></pre></div>
<p>We can visualise a community from each of these datasets using the code below:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/matplot.html" class="external-link">matplot</a></span><span class="op">(</span><span class="va">simTransComms</span><span class="op">$</span><span class="va">`1_5_1`</span><span class="op">[</span>,<span class="fl">3</span><span class="op">:</span><span class="fl">7</span><span class="op">]</span>, type <span class="op">=</span> <span class="st">"l"</span>, xlab <span class="op">=</span> <span class="st">"Time"</span>, ylab <span class="op">=</span> <span class="st">"Density"</span>,  main <span class="op">=</span> <span class="st">"Transitioning five species community"</span><span class="op">)</span></span></code></pre></div>
<p><img src="ews_assessments_files/figure-html/vis_data-1.png" width="1000"></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">CODrecovery</span><span class="op">$</span><span class="va">`1_20`</span><span class="op">$</span><span class="va">time</span>, y <span class="op">=</span> <span class="va">CODrecovery</span><span class="op">$</span><span class="va">`1_20`</span><span class="op">$</span><span class="va">biomass</span>, type<span class="op">=</span><span class="st">"l"</span>, xlab <span class="op">=</span> <span class="st">"Year"</span>, ylab <span class="op">=</span> <span class="st">"Abundance"</span>, main <span class="op">=</span> <span class="st">"Recovering cod population"</span><span class="op">)</span></span></code></pre></div>
<p><img src="ews_assessments_files/figure-html/vis_data-2.png" width="1000"></p>
<p>These plots show that a transition takes place at <code>time ~= 180</code> in <code>"simTransComms$1_5_1"</code> and <code>year ~= 2050</code> in <code>"CODrecovery$1_20"</code>. <code>EWSmethods</code> helpfully provides this information in each dataset under the <code>inflection_pt</code> column.</p>
<table class="table">
<thead><tr class="header">
<th align="right">simTransComms</th>
<th align="right">CODrecovery</th>
</tr></thead>
<tbody><tr class="odd">
<td align="right">184.5</td>
<td align="right">2055</td>
</tr></tbody>
</table>
<p>However, EWS assessments are only meaningful if performed on data prior to a transition. As both <code>EWsmethods</code> provides the time point of transition, we can truncate our data to only pre-transition.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pre_simTransComms</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">simTransComms</span><span class="op">$</span><span class="va">`1_5_1`</span>,<span class="va">time</span> <span class="op">&lt;</span> <span class="va">inflection_pt</span><span class="op">)</span></span>
<span></span>
<span><span class="va">pre_CODrecovery</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">CODrecovery</span><span class="op">$</span><span class="va">`1_20`</span>,<span class="va">time</span> <span class="op">&lt;</span> <span class="va">inflection_pt</span><span class="op">)</span></span></code></pre></div>
<p>Now the data has been loaded and truncated, it can now be passed to <code><a href="../reference/uniEWS.html">uniEWS()</a></code> and <code><a href="../reference/multiEWS.html">multiEWS()</a></code> to perform EWS assessments.</p>
<p><br></p>
</div>
<div class="section level3">
<h3 id="univariate-ewss">2. Univariate EWSs<a class="anchor" aria-label="anchor" href="#univariate-ewss"></a>
</h3>
<p><code>EWSmethods</code> provides two computational approaches to calculate univariate EWSs via the <code><a href="../reference/uniEWS.html">uniEWS()</a></code> function - rolling vs expanding windows. The difference between the two is evident in the figure below but simply, rolling windows estimate EWSs in subsets of the overall time series before ‘rolling’ on one data point and reassessing, whereas expanding windows add data points sequentially in to an ‘expanding’ assessment and then standardises against the running mean and standard deviation of the previous window.</p>
<p><a href="https://duncanobrien.github.io/EWSmethods/"><img src="articles/ewsmethods_eg_fig.pdf" max-width="100%"></a></p>
<p>Both computational approaches can calculate the same EWS indicators however. A brief outline of each can be found in the following table as well as their reference code in <code><a href="../reference/uniEWS.html">uniEWS()</a></code>.</p>
<table class="table">
<colgroup>
<col width="34%">
<col width="31%">
<col width="34%">
</colgroup>
<thead><tr class="header">
<th align="center">EWS indicator</th>
<th>Description</th>
<th align="center">
<code><a href="../reference/uniEWS.html">uniEWS()</a></code> metric code</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">Standard deviation</td>
<td>Increasing variance/standard deviation is observed approaching a transition</td>
<td align="center"><code>"SD"</code></td>
</tr>
<tr class="even">
<td align="center">Coefficient of variation</td>
<td>Equivalent to SD as is simply SD at time t divided by the mean SD of the time series</td>
<td align="center"><code>"cv"</code></td>
</tr>
<tr class="odd">
<td align="center">Autocorrelation at lag1</td>
<td>Autocorrelation (similarity between successive observations) increases approaching a transition. The value of this indicator can be estimated as either the autocorrelation coefficient estimated from a first order autoregressive model or the estimated autocorrelation function at lag1</td>
<td align="center">
<code>"ar1"</code> - autoregressive model; <code>"acf"</code>- autocorrelation function</td>
</tr>
<tr class="even">
<td align="center">Skewness</td>
<td>At a transition, the distribution of values in the time series can become asymmetric</td>
<td align="center"><code>"skew"</code></td>
</tr>
<tr class="odd">
<td align="center">Kurtosis</td>
<td>Kurtosis represents the system reaching more extreme values in the presence of a transition. Due to the increased presence of rare values in the time series, the tails of the observation distribution widen</td>
<td align="center"><code>"kurt"</code></td>
</tr>
<tr class="even">
<td align="center">Return rate</td>
<td>The inverse of the first-order term of a fitted autoregressive AR(1) model. Return rate is the primary quantity impacted by CSD – return rate decreases as a tipping point is approached</td>
<td align="center"><code>"rr"</code></td>
</tr>
<tr class="odd">
<td align="center">Density ratio</td>
<td>Spectral reddening (high variance at low frequencies) occurs near transition. The density ratio quantifies the degree of reddening as the ratio of the spectral density at low frequency to the spectral density at high frequency</td>
<td align="center"><code>"dr"</code></td>
</tr>
</tbody>
</table>
<p><br></p>
<div class="section level4">
<h4 id="rolling-windows">Rolling windows<a class="anchor" aria-label="anchor" href="#rolling-windows"></a>
</h4>
<p>The rolling window approach is the most commonly used form of EWS computation due to the work of Dakos <em>et al</em> 2012. <code><a href="../reference/uniEWS.html">uniEWS()</a></code> accepts a <code>method =</code> and a <code>winsize =</code> argument which calls the expanding window method and creates a rolling window <code>winsize</code>% of the total time series length.</p>
<p>Lets use an example where we are interested in the autocorrelation, variance and skewness of one of the five species in <code>pre_simTransComms</code>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rolling_ews_eg</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/uniEWS.html">uniEWS</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">pre_simTransComms</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">5</span><span class="op">)</span><span class="op">]</span>,</span>
<span>                         metrics <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ar1"</span>,<span class="st">"SD"</span>,<span class="st">"skew"</span><span class="op">)</span>,</span>
<span>                         method <span class="op">=</span> <span class="st">"rolling"</span>,</span>
<span>                         winsize <span class="op">=</span> <span class="fl">50</span>,</span>
<span>                         y_lab <span class="op">=</span> <span class="st">"Density"</span>,</span>
<span>                         ggplotIt <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="ews_assessments_files/figure-html/rolling_ews_fig-1.png" width="1000"></p>
<p>Note how all EWS indicators begin to trend upwards at <code>time ~= 170</code> which results in the positive Kendall Tau correlation coefficient indicative of an oncoming transition/tipping point.</p>
<p><br></p>
</div>
<div class="section level4">
<h4 id="expanding-windows">Expanding windows<a class="anchor" aria-label="anchor" href="#expanding-windows"></a>
</h4>
<p>Let’s explore the alternative expanding window approach. All we need to change in <code><a href="../reference/uniEWS.html">uniEWS()</a></code> is the <code>method =</code> argument, and replace <code>winsize =</code> with <code>burn_in =</code>. Instead of dictating the size of the rolling window, <code>burn_in =</code> dictates the number of datapoints <code><a href="../reference/uniEWS.html">uniEWS()</a></code> is to use to ‘train’ the algorithm. This mitigates the high number of false-positive signals resulting from the short time series length and high variability when few data points are supplied at the beginning of assessment (O’Brien &amp; Clements, 2021).</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">expanding_ews_eg</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/uniEWS.html">uniEWS</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">pre_simTransComms</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">5</span><span class="op">)</span><span class="op">]</span>,</span>
<span>                         metrics <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ar1"</span>,<span class="st">"SD"</span>,<span class="st">"skew"</span><span class="op">)</span>,</span>
<span>                         method <span class="op">=</span> <span class="st">"expanding"</span>,</span>
<span>                         burn_in <span class="op">=</span> <span class="fl">50</span>,</span>
<span>                         threshold <span class="op">=</span> <span class="fl">2</span>,</span>
<span>                         y_lab <span class="op">=</span> <span class="st">"Density"</span>,</span>
<span>                         ggplotIt <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Removed 7 row(s) containing missing values (geom_path).</span></span>
<span><span class="co">#&gt; Warning: Removed 7 rows containing missing values (geom_point).</span></span></code></pre></div>
<p><img src="ews_assessments_files/figure-html/expanding_ews_fig-1.png" width="1000"></p>
<p>Similar to the rolling window approach, EWS indicators calculated by expanding windows have identified warnings from <code>time ~= 170</code>. However we are more confident in this conclusion as the composite metrics also display this warning. These composite metrics simple sum the standardised individual indicator strengths together and are known to provide a more reliable signal than lone indicators (Clements &amp; Ozgul, 2016).</p>
<p><br></p>
</div>
<div class="section level4">
<h4 id="trait-information">Trait information<a class="anchor" aria-label="anchor" href="#trait-information"></a>
</h4>
<p>The final contribution by <code><a href="../reference/uniEWS.html">uniEWS()</a></code> is the ability to integrate multiple information sources in the assessment. For example, including body size estimates improves assessment reliability by reducing false positive rate whilst increasing the number of true positives (Clements and Ozgul 2016, Baruah et al. 2020). <code><a href="../reference/uniEWS.html">uniEWS()</a></code> consequently accepts a <code>trait =</code> argument where an additional trait time series can be combined with the other abundance-based EWSs as a composite metric. This capability is only available if <code>method = "expanding"</code></p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">trait_ews_eg</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/uniEWS.html">uniEWS</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">pre_CODrecovery</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">3</span><span class="op">)</span><span class="op">]</span>,</span>
<span>                         metrics <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ar1"</span>,<span class="st">"SD"</span>,<span class="st">"trait"</span><span class="op">)</span>,</span>
<span>                         method <span class="op">=</span> <span class="st">"expanding"</span>,</span>
<span>                         trait <span class="op">=</span> <span class="va">pre_CODrecovery</span><span class="op">$</span><span class="va">mean.size</span>,</span>
<span>                         burn_in <span class="op">=</span> <span class="fl">15</span>, <span class="co">#small burn_in due to shorter time series</span></span>
<span>                         threshold <span class="op">=</span> <span class="fl">2</span>,</span>
<span>                         y_lab <span class="op">=</span> <span class="st">"Density"</span>,</span>
<span>                         trait_lab <span class="op">=</span> <span class="st">"Mean size (g)"</span>,</span>
<span>                         ggplotIt <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Removed 217 row(s) containing missing values (geom_path).</span></span>
<span><span class="co">#&gt; Warning: Removed 7 row(s) containing missing values (geom_path).</span></span>
<span><span class="co">#&gt; Warning: Removed 7 rows containing missing values (geom_point).</span></span></code></pre></div>
<p><img src="ews_assessments_files/figure-html/trait_ews_fig-1.png" width="1000"></p>
<p><br></p>
</div>
</div>
<div class="section level3">
<h3 id="multivariate-ewss">3. Multivariate EWSs<a class="anchor" aria-label="anchor" href="#multivariate-ewss"></a>
</h3>
<p><strong>Development in progress</strong></p>
<p><br></p>
</div>
</div>
<div class="section level2">
<h2 id="troubleshooting">Troubleshooting<a class="anchor" aria-label="anchor" href="#troubleshooting"></a>
</h2>
<div class="section level3">
<h3 id="reticulate-is-activating-a-different-environment-to-the-one-i-gave-to-ewsnet_init">1. <em><code>reticulate</code> is activating a different environment to the one I gave to <code>ewsnet_init()</code></em><a class="anchor" aria-label="anchor" href="#reticulate-is-activating-a-different-environment-to-the-one-i-gave-to-ewsnet_init"></a>
</h3>
<p>This is the main error when using <code>EWSmethods</code>. The first solution is to simply restart the R session and rerun <code><a href="../reference/EWSNET_init.html">ewsnet_init()</a></code>. If <code>reticulate</code> is loaded before <code><a href="../reference/EWSNET_init.html">ewsnet_init()</a></code> is run, then the default <code>reticulate</code> environment <code>"r-reticulate"</code> is activated instead of your EWSNet environment. Therefore ensure no <code>reticulate</code> command or <code><a href="https://rstudio.github.io/reticulate/" class="external-link">library(reticulate)</a></code> is run prior to <code><a href="../reference/EWSNET_init.html">ewsnet_init()</a></code>.</p>
<p>If the error remains and your RStudio version is &gt;=1.4, you may need to edit your Python interpreter settings in RStudio’s preferences. Go to Preferences -&gt; Python and untick “Automatically activate project-level Python environments”. Then restart your R session and rerun <code><a href="../reference/EWSNET_init.html">ewsnet_init()</a></code>.</p>
<p>The final solution we are aware of involves deactivating <code>reticulate</code>’s default behaviour in your global R environment settings. Running <code><a href="../reference/bypass_reticulate_autoinit.html">bypass_reticulate_autoinit()</a></code> will disable <code>reticulate</code>’s ability to load a Python environment without a user request. Restart your R session and rerun <code><a href="../reference/EWSNET_init.html">ewsnet_init()</a></code> once ready.</p>
<p><br></p>
</div>
<div class="section level3">
<h3 id="ewsnet_predict-is-returning-python-errors">2. <em><code>ewsnet_predict()</code> is returning Python errors</em><a class="anchor" aria-label="anchor" href="#ewsnet_predict-is-returning-python-errors"></a>
</h3>
<p>These errors are extremely difficult to debug through R . Fortunately, in our experience, such errors are legacies of previous issues such as incorrect initialising of the Python environment, the crashing of an R session, or killing of the running function. The error is therefore often solved by restarting the R session and rerunning <code><a href="../reference/EWSNET_init.html">ewsnet_init()</a></code>.</p>
<p>If the error remains, please submit a bug report <a href="https://github.com/duncanobrien/EWSmethods/issues" class="external-link">here</a>.</p>
<p><br></p>
</div>
<div class="section level3">
<h3 id="i-want-to-uninstall-python-and-its-environments">3. <em>I want to uninstall Python and its environments</em><a class="anchor" aria-label="anchor" href="#i-want-to-uninstall-python-and-its-environments"></a>
</h3>
<p><code><a href="../reference/EWSNET_init.html">ewsnet_init()</a></code> provides the capabaility to do this using the <code>conda_refresh =</code> argument:</p>
<p><code>ewsnet_init(envname = "envname",conda_refresh = TRUE)</code>.</p>
<p>This function will remove any downloaded Python versions, packages or environments to allow a fresh install or permanent removal.</p>
<p><br></p>
</div>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<p>Clements, C.F., McCarthy, M.A. &amp; Blanchard, J.L. (2019) Early warning signals of recovery in complex systems. <em>Nature Communications</em>, 10, 1681. <a href="https://www.nature.com/articles/s41467-019-09684-y" class="external-link">doi:10.1038/s41467-019-09684-y</a></p>
<p>Kéfi S., Dakos V., Scheffer M., Van Nes E.H. &amp; Rietkerk, M. (2013) Early warning signals also precede non-catastrophic transitions. <em>Oikos</em>, 122: 641-648. <a href="https://onlinelibrary.wiley.com/doi/abs/10.1111/j.1600-0706.2012.20838.x" class="external-link">doi:10.1111/j.1600-0706.2012.20838.x</a></p>
<p><br></p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Duncan O’Brien, Smita Deb, Christopher Clements.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
